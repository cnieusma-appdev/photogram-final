<h1>List of users</h1>

<% if session.fetch(:user_id) == nil %>
<table border="1">
    <tr>

      <th>
        Username
      </th>

      <td>
          Private?
        </td>

      <th></th>

    </tr>

    <% @users.each do |user| %>
      <tr>
        <td>
          <% if user.private == true %>
            Yes
          <% else %>
            No
          <% end %>
        </td>

        <td>
          <%= user.private %>
        </td>

        <td>
          <a href="/users/<%= user.username %>">Show details</a>
        </td>
      </tr> 

    <% end %>
  </table>

<% else %>
  <table border="1">
    <tr>

      <th>
        Username
      </th>

      <th>
        Private?
      </th>

      <th></th>

      <th></th>

    </tr>

    <% @users.each do |user| %>
      <tr>
        <td>
          <%= user.username %>
        </td>

        <td>
          <% if user.private == true %>
            Yes
          <% else %>
            No
          <% end %>
        </td>

        <td>
          Follow
        </td>

        <td>
          <a href="/users/<%= user.username %>">Show details</a>
        </td>
      </tr>
    <% end %>

  </table>
<% end %>
